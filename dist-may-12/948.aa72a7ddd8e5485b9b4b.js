"use strict";(self.webpackChunkmyshops_admin=self.webpackChunkmyshops_admin||[]).push([[948],{90065:function(T,p,l){l.d(p,{q:function(){return g}});var m=l(90189),c=["*"],g=function(){function o(){}return o.prototype.ngOnInit=function(){},o.\u0275fac=function(u){return new(u||o)},o.\u0275cmp=m.Xpm({type:o,selectors:[["app-page-header"]],ngContentSelectors:c,decls:4,vars:0,consts:[[1,"header","bg-gradient-dark","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body","invoice_list_header","mb--3","mb-md-0"]],template:function(u,e){1&u&&(m.F$t(),m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.Hsn(3),m.qZA(),m.qZA(),m.qZA())},styles:[""]}),o}()},73948:function(T,p,l){l.r(p),l.d(p,{SettingModule:function(){return P}});var m=l(22002),c=l(42101),g=l(85424),o=l(11462),f=l(95058),u=l(529),e=l(90189),A=l(3492),S=l(90065),_=l(61116),q=l(83745);function b(t,i){1&t&&(e.TgZ(0,"span"),e._UZ(1,"i",37),e._uU(2," Upload Logo"),e.qZA())}function y(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"span",38),e._UZ(2,"i",39),e.qZA(),e._UZ(3,"img",40),e.BQk()),2&t){var r=e.oxw();e.xp6(3),e.Q6J("src",r.selectedFile.src,e.LSH)}}function F(t,i){1&t&&(e.TgZ(0,"small",41),e._uU(1," Please enter name "),e.qZA())}function C(t,i){1&t&&(e.TgZ(0,"small",41),e._uU(1," Please enter company email "),e.qZA())}function U(t,i){1&t&&(e.TgZ(0,"small",41),e._uU(1," Please enter valid company email "),e.qZA())}function E(t,i){if(1&t&&(e.TgZ(0,"small",41),e._uU(1),e.qZA()),2&t){var r=e.oxw();e.xp6(1),e.hij(" ",r.error," ")}}function I(t,i){1&t&&(e.TgZ(0,"small",41),e._uU(1," Please enter address "),e.qZA())}function x(t,i){1&t&&(e.TgZ(0,"small",41),e._uU(1," Please enter voucher approve amount "),e.qZA())}var h=function(){return function(i,r){this.src=i,this.file=r,r&&(this.type=r.type,this.size=r.size,this.name=r.name)}}(),w=[{path:"",component:function(){function t(i,r,n,d){var a=this;this.fb=i,this.route=r,this.settingService=n,this.toastrService=d,this.updateSettingForm=this.fb.group({name:[null,[o.kI.required,o.kI.maxLength(255)]],website:[null,o.kI.maxLength(255)],logo:null,email:[null,[o.kI.required,o.kI.maxLength(255),o.kI.pattern("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$")]],address:[null,[o.kI.required,o.kI.maxLength(400)]],voucher_approve_amount:[0,[o.kI.required,o.kI.maxLength(10)]]}),this.submitted=!1,this.error="",this.errorKey="",this.selectedFile=null,this.onSubmit=function(){if(a.submitted=!0,!a.updateSettingForm.invalid){var s=new FormData;for(var Z in s.append("image",null!=a.logo?a.logo:null),a.updateSettingForm.value)"logo"!=Z&&s.append(Z,a.updateSettingForm.value[Z]);a.settingService.updateSetting(s).subscribe({next:function(v){a.toastrService.success("Setting updated successfully"),a.submitted=!1,a.error="",a.errorKey="",a.settingService.getSettingDetails().subscribe(function(Y){a.setting=Y.response[0],a.patchFormData()})}.bind(a),error:function(v){a.errorKey=v.key,a.error=v.message}.bind(a)})}}}return t.prototype.ngOnInit=function(){var i=this;this.settingService.settings$.subscribe(function(r){i.setting=r,i.selectedFile=new h(u.N.serverUrl+i.setting.logo)}),this.patchFormData()},t.prototype.patchFormData=function(){this.updateSettingForm.patchValue({name:this.setting.name,email:this.setting.email,address:this.setting.address,website:this.setting.website,voucher_approve_amount:this.setting.voucher_approve_amount})},t.prototype.handleLogo=function(i){var r=this;this.logo=i[0];var n=i[0],d=new FileReader;d.addEventListener("load",function(a){r.selectedFile=new h(a.target.result,n)}),d.readAsDataURL(n)},t.\u0275fac=function(r){return new(r||t)(e.Y36(o.qu),e.Y36(g.gz),e.Y36(f.R),e.Y36(A._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-setting"]],decls:71,vars:9,consts:[[1,"row"],[1,"container-fluid","mt--7"],[1,"row","justify-content-center"],[1,"col-xl-9"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],[1,"card-body"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"px-lg-4"],[1,"col-lg-12"],[1,"form-group","logoWrapper"],["for","logo",1,"form-control-label"],[1,"custo-upload"],["type","file","hidden","","formControlName","logo","id","logo","accept",".jpeg,.png,.jpg",1,"form-control","form-control-alternative",3,"change"],["logoSelector",""],["for","logo",1,"mb-0","logo__cnt",3,"click"],[4,"ngIf"],[1,"col-lg-6"],[1,"form-group"],["for","name",1,"form-control-label"],[1,"text-danger"],["id","name","maxlength","40","placeholder","Name","formControlName","name","autocomplete","name",1,"form-control","form-control-alternative"],["class","form-text text-danger  form-error",4,"ngIf"],["for","company_email",1,"form-control-label"],["id","company_email","maxlength","40","placeholder","Company Email","formControlName","email","autocomplete","email",1,"form-control","form-control-alternative"],["for","website",1,"form-control-label"],["id","website","type","url","maxlength","100","placeholder","website","formControlName","website","autocomplete","website",1,"form-control","form-control-alternative"],["for","address",1,"form-control-label"],["id","address","maxlength","300","placeholder","address","formControlName","address","autocomplete","address",1,"form-control","form-control-alternative"],["class","form-text text-danger form-error",4,"ngIf"],["for","voucher_approve_amount",1,"form-control-label"],["type","text","id","voucher_approve_amount","maxlength","300","placeholder","voucher approve amount","formControlName","voucher_approve_amount","appOnlyNumber","","autocomplete","voucher approve amount",1,"form-control","form-control-alternative"],[1,"text-center"],["type","submit",1,"btn","btn-primary","my-4"],[1,"fas","fa-upload"],[1,"edit_ico"],[1,"fas","fa-pencil-alt"],["alt","",3,"src"],[1,"form-text","text-danger","form-error"]],template:function(r,n){if(1&r){var d=e.EpF();e.TgZ(0,"app-page-header"),e._UZ(1,"div",0),e.qZA(),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"h3",8),e._uU(10,"Edit Setting"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e.TgZ(12,"form",10),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(13,"div",11),e.TgZ(14,"div",0),e.TgZ(15,"div",12),e.TgZ(16,"div",13),e.TgZ(17,"label",14),e._uU(18," Logo "),e.TgZ(19,"small"),e._uU(20,"(Allowed image formats - .jpeg, .png, .jpg )"),e.qZA(),e.qZA(),e.TgZ(21,"div",15),e.TgZ(22,"input",16,17),e.NdJ("change",function(s){return n.handleLogo(s.target.files)}),e.qZA(),e.TgZ(24,"div",18),e.NdJ("click",function(){return e.CHM(d),e.MAs(23).click()}),e.YNc(25,b,3,0,"span",19),e.YNc(26,y,4,1,"ng-container",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",20),e.TgZ(28,"div",21),e.TgZ(29,"label",22),e._uU(30," Name"),e.TgZ(31,"span",23),e._uU(32,"*"),e.qZA(),e.qZA(),e._UZ(33,"input",24),e.YNc(34,F,2,0,"small",25),e.qZA(),e.qZA(),e.TgZ(35,"div",20),e.TgZ(36,"div",21),e.TgZ(37,"label",26),e._uU(38," Company email"),e.TgZ(39,"span",23),e._uU(40,"*"),e.qZA(),e.qZA(),e._UZ(41,"input",27),e.YNc(42,C,2,0,"small",25),e.YNc(43,U,2,0,"small",25),e.YNc(44,E,2,1,"small",25),e.qZA(),e.qZA(),e.TgZ(45,"div",12),e.TgZ(46,"div",21),e.TgZ(47,"label",28),e._uU(48," Website url "),e.qZA(),e._UZ(49,"input",29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",0),e.TgZ(51,"div",12),e.TgZ(52,"div",21),e.TgZ(53,"label",30),e._uU(54," Address"),e.TgZ(55,"span",23),e._uU(56,"*"),e.qZA(),e.qZA(),e._UZ(57,"textarea",31),e.YNc(58,I,2,0,"small",32),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",0),e.TgZ(60,"div",12),e.TgZ(61,"div",21),e.TgZ(62,"label",33),e._uU(63," Voucher approve amount"),e.TgZ(64,"span",23),e._uU(65,"*"),e.qZA(),e.qZA(),e._UZ(66,"input",34),e.YNc(67,x,2,0,"small",32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",35),e.TgZ(69,"button",36),e._uU(70," Update Setting "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(12),e.Q6J("formGroup",n.updateSettingForm),e.xp6(13),e.Q6J("ngIf",!n.selectedFile||!n.selectedFile.src),e.xp6(1),e.Q6J("ngIf",n.selectedFile&&n.selectedFile.src),e.xp6(8),e.Q6J("ngIf",n.updateSettingForm.get("name").hasError("required")&&(n.updateSettingForm.get("name").dirty||n.updateSettingForm.get("name").touched||n.submitted)),e.xp6(8),e.Q6J("ngIf",n.updateSettingForm.get("email").hasError("required")&&(n.updateSettingForm.get("email").dirty||n.updateSettingForm.get("email").touched||n.submitted)),e.xp6(1),e.Q6J("ngIf",!n.updateSettingForm.get("email").hasError("required")&&n.updateSettingForm.get("email").invalid),e.xp6(1),e.Q6J("ngIf","email"===n.errorKey),e.xp6(14),e.Q6J("ngIf",n.updateSettingForm.get("address").hasError("required")&&(n.updateSettingForm.get("address").dirty||n.updateSettingForm.get("address").touched||n.submitted)),e.xp6(9),e.Q6J("ngIf",n.updateSettingForm.get("voucher_approve_amount").hasError("required")&&(n.updateSettingForm.get("voucher_approve_amount").dirty||n.updateSettingForm.get("voucher_approve_amount").touched||n.submitted)))},directives:[S.q,o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,_.O5,o.nD,q.p],styles:[".selected-item[_ngcontent-%COMP%] {\n  max-width: auto !important;\n}"]}),t}(),resolve:{data:l(99855).R},runGuardsAndResolvers:"paramsOrQueryParamsChange"}],L=function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.Bz.forChild(w)],g.Bz]}),t}(),P=function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[m.m,c.K,L]]}),t}()}}]);